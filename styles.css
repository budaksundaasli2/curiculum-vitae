:root{
	--bg:#000000;
	--card:#ffffff;
	--muted:#6b7280;
	--text:#1f2937;
	--border:#e5e7eb;
	--accent:#2563eb;
	--photo-size:100px;
	--photo-radius:8px;
	--photo-gap:14px;
	--photo-offset-top:30px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
	margin:0;
	font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
	background:var(--bg);
	color:var(--text);
	-webkit-font-smoothing:antialiased;
}
.toolbar{
	position:sticky;top:0;z-index:20;
	display:flex;gap:.5rem;align-items:center;justify-content:center;
	padding:.75rem; background:rgba(255,255,255,.8); backdrop-filter:saturate(180%) blur(12px);
	border-bottom:1px solid var(--border);
}
.btn{border:1px solid var(--border); background:#fff; color:var(--text); padding:.55rem .9rem; border-radius:.6rem; cursor:pointer; font-weight:600; box-shadow:0 1px 2px rgba(0,0,0,.04)}
.btn:hover{border-color:#cfd4dc}
.btn.primary{background:var(--accent); color:#fff; border-color:var(--accent)}
.btn.ghost{background:transparent}
.btn.small{padding:.35rem .6rem; font-weight:600}

.container{max-width:900px; margin:2rem auto; padding:0 1rem 2rem}
.cv-card{
	background:var(--card);
	border:1px solid var(--border);
	border-radius:16px;
	box-shadow:0 10px 30px rgba(0,0,0,.06);
	padding:1.5rem;
}
.cv-header{display:flex; gap:1.25rem; align-items:center; padding-bottom:1rem; border-bottom:1px solid var(--border)}
.photo-wrap{display:flex; flex-direction:column; align-items:center; gap:.5rem}
.photo{
	width:var(--photo-size); height:var(--photo-size); border-radius:var(--photo-radius); overflow:hidden; border:3px solid var(--border); background:#f3f4f6;
	display:grid; place-items:center;
}
.photo img{width:100%; height:100%; object-fit:cover; display:block; border-radius:var(--photo-radius)}
.header-text{flex:1}
h1.name{margin:0 0 .25rem; font-size:2rem; line-height:1.2; font-weight:700}
.contact{display:flex; flex-wrap:wrap; gap:.5rem 1rem; color:var(--muted)}
.contact a{color:var(--muted); text-decoration:none}
.contact a:hover{color:var(--accent)}

.section{padding:1rem 0}
.section h2{margin:0 0 .75rem; font-size:1.1rem; font-weight:700; border-bottom:1px solid var(--border); padding-bottom:.4rem}
p{margin:.35rem 0}
.muted{color:var(--muted)}
.item{margin-bottom:.75rem}
ul{margin:.35rem 0 .5rem 1.2rem}
li{margin:.25rem 0}

.skills-grid{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:.35rem 1rem; list-style:disc inside}
.skills-grid li{margin:.15rem 0}

@media (max-width: 768px){
	.cv-header{flex-direction:column; align-items:flex-start}
	.photo{width:var(--photo-size); height:var(--photo-size)}
	.skills-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}

/* Editing states */
[data-editable][contenteditable="true"]{outline:2px dashed #bfd3ff; outline-offset:2px}
body.locked [data-editable]{outline:none}

/* Modal */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; padding:1rem}
.modal.show{display:flex}
.modal-card{background:#fff; width:min(900px,95vw); border-radius:12px; overflow:hidden; box-shadow:0 20px 60px rgba(0,0,0,.2); border:1px solid var(--border)}
.modal-head{display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; border-bottom:1px solid var(--border)}
.modal-body{padding:1rem; max-height:70vh; overflow:auto; background:#fafafa}
.modal-body img{max-width:100%; display:block}
.modal-foot{display:flex; gap:.5rem; justify-content:flex-end; padding:.75rem 1rem; border-top:1px solid var(--border); background:#fff}

/* Print */
@media print{
	.toolbar{display:none}
	body{background:#fff}
	.container{margin:0; padding:0}
	.cv-card{box-shadow:none; border:none; padding:0}
	.section{page-break-inside:avoid}
	@page{size:A4; margin:12mm}
	.photo-hint, .photo-actions{display:none !important}
	/* Ensure header photo at left of name/contact for print */
	.cv-header{display:block !important; overflow:hidden}
	.cv-header .photo-wrap{float:left; width:var(--photo-size); margin:var(--photo-offset-top) var(--photo-gap) 0 0}
	.cv-header .photo{width:var(--photo-size); height:var(--photo-size); border-radius:var(--photo-radius)}
	.cv-header .photo img{width:100%; height:100%; object-fit:cover; display:block; border-radius:var(--photo-radius)}
	.cv-header .header-text{overflow:hidden}
}

/* --- Enhanced aesthetics --- */
.section h2{display:flex; align-items:center; gap:.5rem}
.section h2::before{content:""; display:inline-block; width:6px; height:16px; background:linear-gradient(180deg, var(--accent), #5b8cff); border-radius:4px}

/* Skill chips */
.skills-grid{list-style:none; padding:0; grid-template-columns:repeat(3,minmax(0,1fr));}
.skills-grid li{
	display:inline-block; padding:.35rem .6rem; border:1px solid var(--border); border-radius:999px; background:#fff; color:var(--text);
	box-shadow:0 1px 2px rgba(0,0,0,.04); white-space:nowrap;
}

/* Edit actions (visible only when editing) */
.edit-actions{display:flex; gap:.5rem; margin-top:.5rem}
body.locked .edit-actions{display:none}
.item{position:relative}
.item .remove-btn{position:absolute; top:.25rem; right:.25rem; opacity:.9}
body.locked .item .remove-btn{display:none}

/* Date field interactive look when editing */
.date-field{border-bottom:1px dotted transparent}
body:not(.locked) .date-field{cursor:pointer; border-bottom-color:#cfe0ff}

/* Date popover */
.date-popover{position:fixed; z-index:50; background:#fff; border:1px solid var(--border); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12); padding:.75rem; width:min(320px,90vw)}
.date-popover h4{margin:.25rem 0 .5rem; font-size:.95rem}
.date-popover .row{display:flex; gap:.5rem; align-items:center; margin:.35rem 0}
.date-popover label{font-size:.85rem; color:var(--muted)}
.date-popover input[type="month"], .date-popover input[type="number"]{width:100%; padding:.4rem .5rem; border:1px solid var(--border); border-radius:.5rem}
.date-popover .actions{display:flex; justify-content:flex-end; gap:.5rem; margin-top:.5rem}

/* Cropper preview circle */
.preview-circle{width:96px; height:96px; border-radius:50%; overflow:hidden; border:2px solid var(--border); background:#f3f4f6}
.preview-circle .cropper-preview{width:100%; height:100%}

/* Backdrop for date popover */
.date-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.2); z-index:49; display:none}
.date-backdrop.show{display:block}

/* Centered date popover */
.date-popover.centered{top:50% !important; left:50% !important; transform:translate(-50%,-50%); max-width:420px; width:calc(100% - 32px)}

/* Location field interactive look when editing */
.loc-field{border-bottom:1px dotted transparent}
body:not(.locked) .loc-field{cursor:pointer; border-bottom-color:#cfe0ff}

/* Square formal photo */
.photo{border-radius:var(--photo-radius)}

/* Cropper preview square */
.preview-square{width:96px; height:96px; border-radius:8px; overflow:hidden; border:2px solid var(--border); background:#f3f4f6}
.preview-square .cropper-preview{width:100%; height:100%}

/* Drag-and-drop visual feedback for photo */
.photo.dragover{outline:2px dashed #9db8ff; outline-offset:4px} 

/* Wrap long content and preserve newlines in editable areas */
[data-editable]{overflow-wrap:anywhere; word-break:break-word; white-space:pre-wrap}
[data-editable] img{max-width:100%; height:auto} 

/* Education header interactive look */
.edu-univ, .edu-major{border-bottom:1px dotted transparent}
body:not(.locked) .edu-univ, body:not(.locked) .edu-major{cursor:pointer; border-bottom-color:#cfe0ff} 
